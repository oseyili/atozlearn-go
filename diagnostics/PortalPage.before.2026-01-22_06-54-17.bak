import { useEffect, useState } from "react";
import { supabase } from "../lib/supabase";

export default function PortalPage() {
  const [user, setUser] = useState(null);
  const [paid, setPaid] = useState([]);

  useEffect(() => {
    supabase.auth.getSession().then(({ data }) => {
      setUser(data.session?.user || null);
    });
  }, []);

  return (
    <div className="portal-root">
      <div className="hero">
        <span className="badge">Master Portal</span>
        <h1>Learn anything, from A to Z</h1>
        <p>Subjects + courses load from your database. Paid courses unlock lessons.</p>
        {user && <div className="signed">Signed in: {user.email}</div>}
      </div>

      <section className="subjects">
        <h2>Subjects</h2>
        <div className="card">General</div>
      </section>

      <section className="paid">
        <h2>Paid Courses</h2>
        <p>Shown only when signed in and marked paid in enrollments</p>
      </section>
    </div>
  );
}
